{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useSettings\", {\n    enumerable: true,\n    get: function () {\n      return useSettings;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  const API_URL = process.env.EXPO_PUBLIC_BACKEND_URL;\n  const DEFAULT_SETTINGS = {\n    currency: 'EUR',\n    notification_enabled: true,\n    notification_time: '09:00',\n    notification_days_before: [1, 3, 7],\n    theme: 'dark',\n    backup_interval: 'weekly',\n    last_backup: null\n  };\n  const useSettings = () => {\n    const [settings, setSettings] = (0, _react.useState)(DEFAULT_SETTINGS);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const fetchSettings = (0, _react.useCallback)(async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await fetch(`${API_URL}/api/settings`);\n        if (response.ok) {\n          const data = await response.json();\n          setSettings({\n            ...DEFAULT_SETTINGS,\n            ...data\n          });\n        }\n      } catch (err) {\n        setError('Einstellungen konnten nicht geladen werden');\n        console.error('Settings fetch error:', err);\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    const updateSettings = (0, _react.useCallback)(async newSettings => {\n      try {\n        setLoading(true);\n        setError(null);\n        const updatedSettings = {\n          ...settings,\n          ...newSettings\n        };\n        const response = await fetch(`${API_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(updatedSettings)\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setSettings({\n            ...DEFAULT_SETTINGS,\n            ...data\n          });\n          return true;\n        }\n        return false;\n      } catch (err) {\n        setError('Einstellungen konnten nicht gespeichert werden');\n        console.error('Settings update error:', err);\n        return false;\n      } finally {\n        setLoading(false);\n      }\n    }, [settings]);\n    return {\n      settings,\n      loading,\n      error,\n      fetchSettings,\n      updateSettings\n    };\n  };\n});","lineCount":87,"map":[[7,2,25,0,"Object"],[7,8,25,0],[7,9,25,0,"defineProperty"],[7,23,25,0],[7,24,25,0,"exports"],[7,31,25,0],[8,4,25,0,"enumerable"],[8,14,25,0],[9,4,25,0,"get"],[9,7,25,0],[9,18,25,0,"get"],[9,19,25,0],[10,6,25,0],[10,13,25,0,"useSettings"],[10,24,25,0],[11,4,25,0],[12,2,25,0],[13,2,1,0],[13,6,1,0,"_react"],[13,12,1,0],[13,15,1,0,"require"],[13,22,1,0],[13,23,1,0,"_dependencyMap"],[13,37,1,0],[14,2,3,0],[14,8,3,6,"API_URL"],[14,15,3,13],[14,18,3,16,"process"],[14,25,3,23],[14,26,3,24,"env"],[14,29,3,27],[14,30,3,28,"EXPO_PUBLIC_BACKEND_URL"],[14,53,3,51],[15,2,15,0],[15,8,15,6,"DEFAULT_SETTINGS"],[15,24,15,35],[15,27,15,38],[16,4,16,2,"currency"],[16,12,16,10],[16,14,16,12],[16,19,16,17],[17,4,17,2,"notification_enabled"],[17,24,17,22],[17,26,17,24],[17,30,17,28],[18,4,18,2,"notification_time"],[18,21,18,19],[18,23,18,21],[18,30,18,28],[19,4,19,2,"notification_days_before"],[19,28,19,26],[19,30,19,28],[19,31,19,29],[19,32,19,30],[19,34,19,32],[19,35,19,33],[19,37,19,35],[19,38,19,36],[19,39,19,37],[20,4,20,2,"theme"],[20,9,20,7],[20,11,20,9],[20,17,20,15],[21,4,21,2,"backup_interval"],[21,19,21,17],[21,21,21,19],[21,29,21,27],[22,4,22,2,"last_backup"],[22,15,22,13],[22,17,22,15],[23,2,23,0],[23,3,23,1],[24,2,25,7],[24,8,25,13,"useSettings"],[24,19,25,24],[24,22,25,27,"useSettings"],[24,23,25,27],[24,28,25,33],[25,4,26,2],[25,10,26,8],[25,11,26,9,"settings"],[25,19,26,17],[25,21,26,19,"setSettings"],[25,32,26,30],[25,33,26,31],[25,36,26,34],[25,40,26,34,"useState"],[25,46,26,42],[25,47,26,42,"useState"],[25,55,26,42],[25,57,26,56,"DEFAULT_SETTINGS"],[25,73,26,72],[25,74,26,73],[26,4,27,2],[26,10,27,8],[26,11,27,9,"loading"],[26,18,27,16],[26,20,27,18,"setLoading"],[26,30,27,28],[26,31,27,29],[26,34,27,32],[26,38,27,32,"useState"],[26,44,27,40],[26,45,27,40,"useState"],[26,53,27,40],[26,55,27,41],[26,60,27,46],[26,61,27,47],[27,4,28,2],[27,10,28,8],[27,11,28,9,"error"],[27,16,28,14],[27,18,28,16,"setError"],[27,26,28,24],[27,27,28,25],[27,30,28,28],[27,34,28,28,"useState"],[27,40,28,36],[27,41,28,36,"useState"],[27,49,28,36],[27,51,28,52],[27,55,28,56],[27,56,28,57],[28,4,30,2],[28,10,30,8,"fetchSettings"],[28,23,30,21],[28,26,30,24],[28,30,30,24,"useCallback"],[28,36,30,35],[28,37,30,35,"useCallback"],[28,48,30,35],[28,50,30,36],[28,62,30,48],[29,6,31,4],[29,10,31,8],[30,8,32,6,"setLoading"],[30,18,32,16],[30,19,32,17],[30,23,32,21],[30,24,32,22],[31,8,33,6,"setError"],[31,16,33,14],[31,17,33,15],[31,21,33,19],[31,22,33,20],[32,8,34,6],[32,14,34,12,"response"],[32,22,34,20],[32,25,34,23],[32,31,34,29,"fetch"],[32,36,34,34],[32,37,34,35],[32,40,34,38,"API_URL"],[32,47,34,45],[32,62,34,60],[32,63,34,61],[33,8,35,6],[33,12,35,10,"response"],[33,20,35,18],[33,21,35,19,"ok"],[33,23,35,21],[33,25,35,23],[34,10,36,8],[34,16,36,14,"data"],[34,20,36,18],[34,23,36,21],[34,29,36,27,"response"],[34,37,36,35],[34,38,36,36,"json"],[34,42,36,40],[34,43,36,41],[34,44,36,42],[35,10,37,8,"setSettings"],[35,21,37,19],[35,22,37,20],[36,12,37,22],[36,15,37,25,"DEFAULT_SETTINGS"],[36,31,37,41],[37,12,37,43],[37,15,37,46,"data"],[38,10,37,51],[38,11,37,52],[38,12,37,53],[39,8,38,6],[40,6,39,4],[40,7,39,5],[40,8,39,6],[40,15,39,13,"err"],[40,18,39,16],[40,20,39,18],[41,8,40,6,"setError"],[41,16,40,14],[41,17,40,15],[41,61,40,59],[41,62,40,60],[42,8,41,6,"console"],[42,15,41,13],[42,16,41,14,"error"],[42,21,41,19],[42,22,41,20],[42,45,41,43],[42,47,41,45,"err"],[42,50,41,48],[42,51,41,49],[43,6,42,4],[43,7,42,5],[43,16,42,14],[44,8,43,6,"setLoading"],[44,18,43,16],[44,19,43,17],[44,24,43,22],[44,25,43,23],[45,6,44,4],[46,4,45,2],[46,5,45,3],[46,7,45,5],[46,9,45,7],[46,10,45,8],[47,4,47,2],[47,10,47,8,"updateSettings"],[47,24,47,22],[47,27,47,25],[47,31,47,25,"useCallback"],[47,37,47,36],[47,38,47,36,"useCallback"],[47,49,47,36],[47,51,47,37],[47,57,47,44,"newSettings"],[47,68,47,77],[47,72,47,100],[48,6,48,4],[48,10,48,8],[49,8,49,6,"setLoading"],[49,18,49,16],[49,19,49,17],[49,23,49,21],[49,24,49,22],[50,8,50,6,"setError"],[50,16,50,14],[50,17,50,15],[50,21,50,19],[50,22,50,20],[51,8,52,6],[51,14,52,12,"updatedSettings"],[51,29,52,27],[51,32,52,30],[52,10,52,32],[52,13,52,35,"settings"],[52,21,52,43],[53,10,52,45],[53,13,52,48,"newSettings"],[54,8,52,60],[54,9,52,61],[55,8,54,6],[55,14,54,12,"response"],[55,22,54,20],[55,25,54,23],[55,31,54,29,"fetch"],[55,36,54,34],[55,37,54,35],[55,40,54,38,"API_URL"],[55,47,54,45],[55,62,54,60],[55,64,54,62],[56,10,55,8,"method"],[56,16,55,14],[56,18,55,16],[56,23,55,21],[57,10,56,8,"headers"],[57,17,56,15],[57,19,56,17],[58,12,56,19],[58,26,56,33],[58,28,56,35],[59,10,56,54],[59,11,56,55],[60,10,57,8,"body"],[60,14,57,12],[60,16,57,14,"JSON"],[60,20,57,18],[60,21,57,19,"stringify"],[60,30,57,28],[60,31,57,29,"updatedSettings"],[60,46,57,44],[61,8,58,6],[61,9,58,7],[61,10,58,8],[62,8,60,6],[62,12,60,10,"response"],[62,20,60,18],[62,21,60,19,"ok"],[62,23,60,21],[62,25,60,23],[63,10,61,8],[63,16,61,14,"data"],[63,20,61,18],[63,23,61,21],[63,29,61,27,"response"],[63,37,61,35],[63,38,61,36,"json"],[63,42,61,40],[63,43,61,41],[63,44,61,42],[64,10,62,8,"setSettings"],[64,21,62,19],[64,22,62,20],[65,12,62,22],[65,15,62,25,"DEFAULT_SETTINGS"],[65,31,62,41],[66,12,62,43],[66,15,62,46,"data"],[67,10,62,51],[67,11,62,52],[67,12,62,53],[68,10,63,8],[68,17,63,15],[68,21,63,19],[69,8,64,6],[70,8,65,6],[70,15,65,13],[70,20,65,18],[71,6,66,4],[71,7,66,5],[71,8,66,6],[71,15,66,13,"err"],[71,18,66,16],[71,20,66,18],[72,8,67,6,"setError"],[72,16,67,14],[72,17,67,15],[72,65,67,63],[72,66,67,64],[73,8,68,6,"console"],[73,15,68,13],[73,16,68,14,"error"],[73,21,68,19],[73,22,68,20],[73,46,68,44],[73,48,68,46,"err"],[73,51,68,49],[73,52,68,50],[74,8,69,6],[74,15,69,13],[74,20,69,18],[75,6,70,4],[75,7,70,5],[75,16,70,14],[76,8,71,6,"setLoading"],[76,18,71,16],[76,19,71,17],[76,24,71,22],[76,25,71,23],[77,6,72,4],[78,4,73,2],[78,5,73,3],[78,7,73,5],[78,8,73,6,"settings"],[78,16,73,14],[78,17,73,15],[78,18,73,16],[79,4,75,2],[79,11,75,9],[80,6,76,4,"settings"],[80,14,76,12],[81,6,77,4,"loading"],[81,13,77,11],[82,6,78,4,"error"],[82,11,78,9],[83,6,79,4,"fetchSettings"],[83,19,79,17],[84,6,80,4,"updateSettings"],[85,4,81,2],[85,5,81,3],[86,2,82,0],[86,3,82,1],[87,0,82,2],[87,3]],"functionMap":{"names":["<global>","useSettings","fetchSettings","updateSettings"],"mappings":"AAA;2BCwB;oCCK;GDe;qCEE;GF0B;CDS"},"hasCjsExports":false},"type":"js/module"}]}