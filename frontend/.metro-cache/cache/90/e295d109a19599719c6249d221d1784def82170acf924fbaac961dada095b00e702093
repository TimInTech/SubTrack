{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useSettings\", {\n    enumerable: true,\n    get: function () {\n      return useSettings;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _expoVirtualEnv = require(_dependencyMap[2], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[3], \"react\");\n  var API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  var DEFAULT_SETTINGS = {\n    currency: 'EUR',\n    notification_enabled: true,\n    notification_time: '09:00',\n    notification_days_before: [1, 3, 7],\n    theme: 'dark',\n    backup_interval: 'weekly',\n    last_backup: null\n  };\n  var useSettings = () => {\n    _s();\n    var _useState = (0, _react.useState)(DEFAULT_SETTINGS),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      settings = _useState2[0],\n      setSettings = _useState2[1];\n    var _useState3 = (0, _react.useState)(false),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var _useState5 = (0, _react.useState)(null),\n      _useState6 = (0, _slicedToArray.default)(_useState5, 2),\n      error = _useState6[0],\n      setError = _useState6[1];\n    var fetchSettings = (0, _react.useCallback)(/*#__PURE__*/(0, _asyncToGenerator.default)(function* () {\n      try {\n        setLoading(true);\n        setError(null);\n        var response = yield fetch(`${API_URL}/api/settings`);\n        if (response.ok) {\n          var data = yield response.json();\n          setSettings({\n            ...DEFAULT_SETTINGS,\n            ...data\n          });\n        }\n      } catch (err) {\n        setError('Einstellungen konnten nicht geladen werden');\n        console.error('Settings fetch error:', err);\n      } finally {\n        setLoading(false);\n      }\n    }), []);\n    var updateSettings = (0, _react.useCallback)(/*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (newSettings) {\n        try {\n          setLoading(true);\n          setError(null);\n          var updatedSettings = {\n            ...settings,\n            ...newSettings\n          };\n          var response = yield fetch(`${API_URL}/api/settings`, {\n            method: 'PUT',\n            headers: {\n              'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(updatedSettings)\n          });\n          if (response.ok) {\n            var data = yield response.json();\n            setSettings({\n              ...DEFAULT_SETTINGS,\n              ...data\n            });\n            return true;\n          }\n          return false;\n        } catch (err) {\n          setError('Einstellungen konnten nicht gespeichert werden');\n          console.error('Settings update error:', err);\n          return false;\n        } finally {\n          setLoading(false);\n        }\n      });\n      return function (_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }(), [settings]);\n    return {\n      settings,\n      loading,\n      error,\n      fetchSettings,\n      updateSettings\n    };\n  };\n  _s(useSettings, \"86C4pTi7yzeUr5QGQvIMzmtSRvs=\");\n});","lineCount":114,"map":[[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"useSettings"],[16,24,25,0],[17,4,25,0],[18,2,25,0],[19,2,82,2],[19,6,82,2,"_babelRuntimeHelpersAsyncToGenerator"],[19,42,82,2],[19,45,82,2,"require"],[19,52,82,2],[19,53,82,2,"_dependencyMap"],[19,67,82,2],[20,2,82,2],[20,6,82,2,"_asyncToGenerator"],[20,23,82,2],[20,26,82,2,"_interopDefault"],[20,41,82,2],[20,42,82,2,"_babelRuntimeHelpersAsyncToGenerator"],[20,78,82,2],[21,2,82,2],[21,6,82,2,"_babelRuntimeHelpersSlicedToArray"],[21,39,82,2],[21,42,82,2,"require"],[21,49,82,2],[21,50,82,2,"_dependencyMap"],[21,64,82,2],[22,2,82,2],[22,6,82,2,"_slicedToArray"],[22,20,82,2],[22,23,82,2,"_interopDefault"],[22,38,82,2],[22,39,82,2,"_babelRuntimeHelpersSlicedToArray"],[22,72,82,2],[23,2,82,2],[23,6,82,2,"_expoVirtualEnv"],[23,21,82,2],[23,24,82,2,"require"],[23,31,82,2],[23,32,82,2,"_dependencyMap"],[23,46,82,2],[24,2,1,0],[24,6,1,0,"_react"],[24,12,1,0],[24,15,1,0,"require"],[24,22,1,0],[24,23,1,0,"_dependencyMap"],[24,37,1,0],[25,2,3,0],[25,6,3,6,"API_URL"],[25,13,3,13],[25,16,3,13,"_expoVirtualEnv"],[25,31,3,13],[25,32,3,13,"env"],[25,35,3,13],[25,36,3,13,"EXPO_PUBLIC_BACKEND_URL"],[25,59,3,51],[26,2,15,0],[26,6,15,6,"DEFAULT_SETTINGS"],[26,22,15,35],[26,25,15,38],[27,4,16,2,"currency"],[27,12,16,10],[27,14,16,12],[27,19,16,17],[28,4,17,2,"notification_enabled"],[28,24,17,22],[28,26,17,24],[28,30,17,28],[29,4,18,2,"notification_time"],[29,21,18,19],[29,23,18,21],[29,30,18,28],[30,4,19,2,"notification_days_before"],[30,28,19,26],[30,30,19,28],[30,31,19,29],[30,32,19,30],[30,34,19,32],[30,35,19,33],[30,37,19,35],[30,38,19,36],[30,39,19,37],[31,4,20,2,"theme"],[31,9,20,7],[31,11,20,9],[31,17,20,15],[32,4,21,2,"backup_interval"],[32,19,21,17],[32,21,21,19],[32,29,21,27],[33,4,22,2,"last_backup"],[33,15,22,13],[33,17,22,15],[34,2,23,0],[34,3,23,1],[35,2,25,7],[35,6,25,13,"useSettings"],[35,17,25,24],[35,20,25,27,"useSettings"],[35,21,25,27],[35,26,25,33],[36,4,25,33,"_s"],[36,6,25,33],[37,4,26,2],[37,8,26,2,"_useState"],[37,17,26,2],[37,20,26,34],[37,24,26,34,"useState"],[37,30,26,42],[37,31,26,42,"useState"],[37,39,26,42],[37,41,26,56,"DEFAULT_SETTINGS"],[37,57,26,72],[37,58,26,73],[38,6,26,73,"_useState2"],[38,16,26,73],[38,23,26,73,"_slicedToArray"],[38,37,26,73],[38,38,26,73,"default"],[38,45,26,73],[38,47,26,73,"_useState"],[38,56,26,73],[39,6,26,9,"settings"],[39,14,26,17],[39,17,26,17,"_useState2"],[39,27,26,17],[40,6,26,19,"setSettings"],[40,17,26,30],[40,20,26,30,"_useState2"],[40,30,26,30],[41,4,27,2],[41,8,27,2,"_useState3"],[41,18,27,2],[41,21,27,32],[41,25,27,32,"useState"],[41,31,27,40],[41,32,27,40,"useState"],[41,40,27,40],[41,42,27,41],[41,47,27,46],[41,48,27,47],[42,6,27,47,"_useState4"],[42,16,27,47],[42,23,27,47,"_slicedToArray"],[42,37,27,47],[42,38,27,47,"default"],[42,45,27,47],[42,47,27,47,"_useState3"],[42,57,27,47],[43,6,27,9,"loading"],[43,13,27,16],[43,16,27,16,"_useState4"],[43,26,27,16],[44,6,27,18,"setLoading"],[44,16,27,28],[44,19,27,28,"_useState4"],[44,29,27,28],[45,4,28,2],[45,8,28,2,"_useState5"],[45,18,28,2],[45,21,28,28],[45,25,28,28,"useState"],[45,31,28,36],[45,32,28,36,"useState"],[45,40,28,36],[45,42,28,52],[45,46,28,56],[45,47,28,57],[46,6,28,57,"_useState6"],[46,16,28,57],[46,23,28,57,"_slicedToArray"],[46,37,28,57],[46,38,28,57,"default"],[46,45,28,57],[46,47,28,57,"_useState5"],[46,57,28,57],[47,6,28,9,"error"],[47,11,28,14],[47,14,28,14,"_useState6"],[47,24,28,14],[48,6,28,16,"setError"],[48,14,28,24],[48,17,28,24,"_useState6"],[48,27,28,24],[49,4,30,2],[49,8,30,8,"fetchSettings"],[49,21,30,21],[49,24,30,24],[49,28,30,24,"useCallback"],[49,34,30,35],[49,35,30,35,"useCallback"],[49,46,30,35],[49,65,30,35,"_asyncToGenerator"],[49,82,30,35],[49,83,30,35,"default"],[49,90,30,35],[49,92,30,36],[49,105,30,48],[50,6,31,4],[50,10,31,8],[51,8,32,6,"setLoading"],[51,18,32,16],[51,19,32,17],[51,23,32,21],[51,24,32,22],[52,8,33,6,"setError"],[52,16,33,14],[52,17,33,15],[52,21,33,19],[52,22,33,20],[53,8,34,6],[53,12,34,12,"response"],[53,20,34,20],[53,29,34,29,"fetch"],[53,34,34,34],[53,35,34,35],[53,38,34,38,"API_URL"],[53,45,34,45],[53,60,34,60],[53,61,34,61],[54,8,35,6],[54,12,35,10,"response"],[54,20,35,18],[54,21,35,19,"ok"],[54,23,35,21],[54,25,35,23],[55,10,36,8],[55,14,36,14,"data"],[55,18,36,18],[55,27,36,27,"response"],[55,35,36,35],[55,36,36,36,"json"],[55,40,36,40],[55,41,36,41],[55,42,36,42],[56,10,37,8,"setSettings"],[56,21,37,19],[56,22,37,20],[57,12,37,22],[57,15,37,25,"DEFAULT_SETTINGS"],[57,31,37,41],[58,12,37,43],[58,15,37,46,"data"],[59,10,37,51],[59,11,37,52],[59,12,37,53],[60,8,38,6],[61,6,39,4],[61,7,39,5],[61,8,39,6],[61,15,39,13,"err"],[61,18,39,16],[61,20,39,18],[62,8,40,6,"setError"],[62,16,40,14],[62,17,40,15],[62,61,40,59],[62,62,40,60],[63,8,41,6,"console"],[63,15,41,13],[63,16,41,14,"error"],[63,21,41,19],[63,22,41,20],[63,45,41,43],[63,47,41,45,"err"],[63,50,41,48],[63,51,41,49],[64,6,42,4],[64,7,42,5],[64,16,42,14],[65,8,43,6,"setLoading"],[65,18,43,16],[65,19,43,17],[65,24,43,22],[65,25,43,23],[66,6,44,4],[67,4,45,2],[67,5,45,3],[67,8,45,5],[67,10,45,7],[67,11,45,8],[68,4,47,2],[68,8,47,8,"updateSettings"],[68,22,47,22],[68,25,47,25],[68,29,47,25,"useCallback"],[68,35,47,36],[68,36,47,36,"useCallback"],[68,47,47,36],[69,6,47,36],[69,10,47,36,"_ref2"],[69,15,47,36],[69,22,47,36,"_asyncToGenerator"],[69,39,47,36],[69,40,47,36,"default"],[69,47,47,36],[69,49,47,37],[69,60,47,44,"newSettings"],[69,71,47,77],[69,73,47,100],[70,8,48,4],[70,12,48,8],[71,10,49,6,"setLoading"],[71,20,49,16],[71,21,49,17],[71,25,49,21],[71,26,49,22],[72,10,50,6,"setError"],[72,18,50,14],[72,19,50,15],[72,23,50,19],[72,24,50,20],[73,10,52,6],[73,14,52,12,"updatedSettings"],[73,29,52,27],[73,32,52,30],[74,12,52,32],[74,15,52,35,"settings"],[74,23,52,43],[75,12,52,45],[75,15,52,48,"newSettings"],[76,10,52,60],[76,11,52,61],[77,10,54,6],[77,14,54,12,"response"],[77,22,54,20],[77,31,54,29,"fetch"],[77,36,54,34],[77,37,54,35],[77,40,54,38,"API_URL"],[77,47,54,45],[77,62,54,60],[77,64,54,62],[78,12,55,8,"method"],[78,18,55,14],[78,20,55,16],[78,25,55,21],[79,12,56,8,"headers"],[79,19,56,15],[79,21,56,17],[80,14,56,19],[80,28,56,33],[80,30,56,35],[81,12,56,54],[81,13,56,55],[82,12,57,8,"body"],[82,16,57,12],[82,18,57,14,"JSON"],[82,22,57,18],[82,23,57,19,"stringify"],[82,32,57,28],[82,33,57,29,"updatedSettings"],[82,48,57,44],[83,10,58,6],[83,11,58,7],[83,12,58,8],[84,10,60,6],[84,14,60,10,"response"],[84,22,60,18],[84,23,60,19,"ok"],[84,25,60,21],[84,27,60,23],[85,12,61,8],[85,16,61,14,"data"],[85,20,61,18],[85,29,61,27,"response"],[85,37,61,35],[85,38,61,36,"json"],[85,42,61,40],[85,43,61,41],[85,44,61,42],[86,12,62,8,"setSettings"],[86,23,62,19],[86,24,62,20],[87,14,62,22],[87,17,62,25,"DEFAULT_SETTINGS"],[87,33,62,41],[88,14,62,43],[88,17,62,46,"data"],[89,12,62,51],[89,13,62,52],[89,14,62,53],[90,12,63,8],[90,19,63,15],[90,23,63,19],[91,10,64,6],[92,10,65,6],[92,17,65,13],[92,22,65,18],[93,8,66,4],[93,9,66,5],[93,10,66,6],[93,17,66,13,"err"],[93,20,66,16],[93,22,66,18],[94,10,67,6,"setError"],[94,18,67,14],[94,19,67,15],[94,67,67,63],[94,68,67,64],[95,10,68,6,"console"],[95,17,68,13],[95,18,68,14,"error"],[95,23,68,19],[95,24,68,20],[95,48,68,44],[95,50,68,46,"err"],[95,53,68,49],[95,54,68,50],[96,10,69,6],[96,17,69,13],[96,22,69,18],[97,8,70,4],[97,9,70,5],[97,18,70,14],[98,10,71,6,"setLoading"],[98,20,71,16],[98,21,71,17],[98,26,71,22],[98,27,71,23],[99,8,72,4],[100,6,73,2],[100,7,73,3],[101,6,73,3],[101,23,73,3,"_x"],[101,25,73,3],[102,8,73,3],[102,15,73,3,"_ref2"],[102,20,73,3],[102,21,73,3,"apply"],[102,26,73,3],[102,33,73,3,"arguments"],[102,42,73,3],[103,6,73,3],[104,4,73,3],[104,9,73,5],[104,10,73,6,"settings"],[104,18,73,14],[104,19,73,15],[104,20,73,16],[105,4,75,2],[105,11,75,9],[106,6,76,4,"settings"],[106,14,76,12],[107,6,77,4,"loading"],[107,13,77,11],[108,6,78,4,"error"],[108,11,78,9],[109,6,79,4,"fetchSettings"],[109,19,79,17],[110,6,80,4,"updateSettings"],[111,4,81,2],[111,5,81,3],[112,2,82,0],[112,3,82,1],[113,2,82,2,"_s"],[113,4,82,2],[113,5,25,13,"useSettings"],[113,16,25,24],[114,0,25,24],[114,3]],"functionMap":{"names":["<global>","useSettings","fetchSettings","updateSettings"],"mappings":"AAA;2BCwB;oCCK;GDe;qCEE;GF0B;CDS"},"hasCjsExports":false},"type":"js/module"}]}