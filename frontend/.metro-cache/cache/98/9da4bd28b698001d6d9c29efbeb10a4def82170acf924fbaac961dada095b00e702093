{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":46,"index":46}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _s = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useSettings\", {\n    enumerable: true,\n    get: function () {\n      return useSettings;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL;\n  const DEFAULT_SETTINGS = {\n    currency: 'EUR',\n    notification_enabled: true,\n    notification_time: '09:00',\n    notification_days_before: [1, 3, 7],\n    theme: 'dark',\n    backup_interval: 'weekly',\n    last_backup: null\n  };\n  const useSettings = () => {\n    _s();\n    const [settings, setSettings] = (0, _react.useState)(DEFAULT_SETTINGS);\n    const [loading, setLoading] = (0, _react.useState)(false);\n    const [error, setError] = (0, _react.useState)(null);\n    const fetchSettings = (0, _react.useCallback)(async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        const response = await fetch(`${API_URL}/api/settings`);\n        if (response.ok) {\n          const data = await response.json();\n          setSettings(Object.assign({}, DEFAULT_SETTINGS, data));\n        }\n      } catch (err) {\n        setError('Einstellungen konnten nicht geladen werden');\n        console.error('Settings fetch error:', err);\n      } finally {\n        setLoading(false);\n      }\n    }, []);\n    const updateSettings = (0, _react.useCallback)(async newSettings => {\n      try {\n        setLoading(true);\n        setError(null);\n        const updatedSettings = Object.assign({}, settings, newSettings);\n        const response = await fetch(`${API_URL}/api/settings`, {\n          method: 'PUT',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(updatedSettings)\n        });\n        if (response.ok) {\n          const data = await response.json();\n          setSettings(Object.assign({}, DEFAULT_SETTINGS, data));\n          return true;\n        }\n        return false;\n      } catch (err) {\n        setError('Einstellungen konnten nicht gespeichert werden');\n        console.error('Settings update error:', err);\n        return false;\n      } finally {\n        setLoading(false);\n      }\n    }, [settings]);\n    return {\n      settings,\n      loading,\n      error,\n      fetchSettings,\n      updateSettings\n    };\n  };\n  _s(useSettings, \"86C4pTi7yzeUr5QGQvIMzmtSRvs=\");\n});","lineCount":82,"map":[[8,2,25,0,"Object"],[8,8,25,0],[8,9,25,0,"defineProperty"],[8,23,25,0],[8,24,25,0,"exports"],[8,31,25,0],[9,4,25,0,"enumerable"],[9,14,25,0],[10,4,25,0,"get"],[10,7,25,0],[10,18,25,0,"get"],[10,19,25,0],[11,6,25,0],[11,13,25,0,"useSettings"],[11,24,25,0],[12,4,25,0],[13,2,25,0],[14,2,82,2],[14,6,82,2,"_expoVirtualEnv"],[14,21,82,2],[14,24,82,2,"require"],[14,31,82,2],[14,32,82,2,"_dependencyMap"],[14,46,82,2],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,3,0],[16,8,3,6,"API_URL"],[16,15,3,13],[16,18,3,13,"_expoVirtualEnv"],[16,33,3,13],[16,34,3,13,"env"],[16,37,3,13],[16,38,3,13,"EXPO_PUBLIC_BACKEND_URL"],[16,61,3,51],[17,2,15,0],[17,8,15,6,"DEFAULT_SETTINGS"],[17,24,15,35],[17,27,15,38],[18,4,16,2,"currency"],[18,12,16,10],[18,14,16,12],[18,19,16,17],[19,4,17,2,"notification_enabled"],[19,24,17,22],[19,26,17,24],[19,30,17,28],[20,4,18,2,"notification_time"],[20,21,18,19],[20,23,18,21],[20,30,18,28],[21,4,19,2,"notification_days_before"],[21,28,19,26],[21,30,19,28],[21,31,19,29],[21,32,19,30],[21,34,19,32],[21,35,19,33],[21,37,19,35],[21,38,19,36],[21,39,19,37],[22,4,20,2,"theme"],[22,9,20,7],[22,11,20,9],[22,17,20,15],[23,4,21,2,"backup_interval"],[23,19,21,17],[23,21,21,19],[23,29,21,27],[24,4,22,2,"last_backup"],[24,15,22,13],[24,17,22,15],[25,2,23,0],[25,3,23,1],[26,2,25,7],[26,8,25,13,"useSettings"],[26,19,25,24],[26,22,25,27,"useSettings"],[26,23,25,27],[26,28,25,33],[27,4,25,33,"_s"],[27,6,25,33],[28,4,26,2],[28,10,26,8],[28,11,26,9,"settings"],[28,19,26,17],[28,21,26,19,"setSettings"],[28,32,26,30],[28,33,26,31],[28,36,26,34],[28,40,26,34,"useState"],[28,46,26,42],[28,47,26,42,"useState"],[28,55,26,42],[28,57,26,56,"DEFAULT_SETTINGS"],[28,73,26,72],[28,74,26,73],[29,4,27,2],[29,10,27,8],[29,11,27,9,"loading"],[29,18,27,16],[29,20,27,18,"setLoading"],[29,30,27,28],[29,31,27,29],[29,34,27,32],[29,38,27,32,"useState"],[29,44,27,40],[29,45,27,40,"useState"],[29,53,27,40],[29,55,27,41],[29,60,27,46],[29,61,27,47],[30,4,28,2],[30,10,28,8],[30,11,28,9,"error"],[30,16,28,14],[30,18,28,16,"setError"],[30,26,28,24],[30,27,28,25],[30,30,28,28],[30,34,28,28,"useState"],[30,40,28,36],[30,41,28,36,"useState"],[30,49,28,36],[30,51,28,52],[30,55,28,56],[30,56,28,57],[31,4,30,2],[31,10,30,8,"fetchSettings"],[31,23,30,21],[31,26,30,24],[31,30,30,24,"useCallback"],[31,36,30,35],[31,37,30,35,"useCallback"],[31,48,30,35],[31,50,30,36],[31,62,30,48],[32,6,31,4],[32,10,31,8],[33,8,32,6,"setLoading"],[33,18,32,16],[33,19,32,17],[33,23,32,21],[33,24,32,22],[34,8,33,6,"setError"],[34,16,33,14],[34,17,33,15],[34,21,33,19],[34,22,33,20],[35,8,34,6],[35,14,34,12,"response"],[35,22,34,20],[35,25,34,23],[35,31,34,29,"fetch"],[35,36,34,34],[35,37,34,35],[35,40,34,38,"API_URL"],[35,47,34,45],[35,62,34,60],[35,63,34,61],[36,8,35,6],[36,12,35,10,"response"],[36,20,35,18],[36,21,35,19,"ok"],[36,23,35,21],[36,25,35,23],[37,10,36,8],[37,16,36,14,"data"],[37,20,36,18],[37,23,36,21],[37,29,36,27,"response"],[37,37,36,35],[37,38,36,36,"json"],[37,42,36,40],[37,43,36,41],[37,44,36,42],[38,10,37,8,"setSettings"],[38,21,37,19],[38,22,37,19,"Object"],[38,28,37,19],[38,29,37,19,"assign"],[38,35,37,19],[38,40,37,25,"DEFAULT_SETTINGS"],[38,56,37,41],[38,58,37,46,"data"],[38,62,37,50],[38,63,37,52],[38,64,37,53],[39,8,38,6],[40,6,39,4],[40,7,39,5],[40,8,39,6],[40,15,39,13,"err"],[40,18,39,16],[40,20,39,18],[41,8,40,6,"setError"],[41,16,40,14],[41,17,40,15],[41,61,40,59],[41,62,40,60],[42,8,41,6,"console"],[42,15,41,13],[42,16,41,14,"error"],[42,21,41,19],[42,22,41,20],[42,45,41,43],[42,47,41,45,"err"],[42,50,41,48],[42,51,41,49],[43,6,42,4],[43,7,42,5],[43,16,42,14],[44,8,43,6,"setLoading"],[44,18,43,16],[44,19,43,17],[44,24,43,22],[44,25,43,23],[45,6,44,4],[46,4,45,2],[46,5,45,3],[46,7,45,5],[46,9,45,7],[46,10,45,8],[47,4,47,2],[47,10,47,8,"updateSettings"],[47,24,47,22],[47,27,47,25],[47,31,47,25,"useCallback"],[47,37,47,36],[47,38,47,36,"useCallback"],[47,49,47,36],[47,51,47,37],[47,57,47,44,"newSettings"],[47,68,47,77],[47,72,47,100],[48,6,48,4],[48,10,48,8],[49,8,49,6,"setLoading"],[49,18,49,16],[49,19,49,17],[49,23,49,21],[49,24,49,22],[50,8,50,6,"setError"],[50,16,50,14],[50,17,50,15],[50,21,50,19],[50,22,50,20],[51,8,52,6],[51,14,52,12,"updatedSettings"],[51,29,52,27],[51,32,52,27,"Object"],[51,38,52,27],[51,39,52,27,"assign"],[51,45,52,27],[51,50,52,35,"settings"],[51,58,52,43],[51,60,52,48,"newSettings"],[51,71,52,59],[51,72,52,61],[52,8,54,6],[52,14,54,12,"response"],[52,22,54,20],[52,25,54,23],[52,31,54,29,"fetch"],[52,36,54,34],[52,37,54,35],[52,40,54,38,"API_URL"],[52,47,54,45],[52,62,54,60],[52,64,54,62],[53,10,55,8,"method"],[53,16,55,14],[53,18,55,16],[53,23,55,21],[54,10,56,8,"headers"],[54,17,56,15],[54,19,56,17],[55,12,56,19],[55,26,56,33],[55,28,56,35],[56,10,56,54],[56,11,56,55],[57,10,57,8,"body"],[57,14,57,12],[57,16,57,14,"JSON"],[57,20,57,18],[57,21,57,19,"stringify"],[57,30,57,28],[57,31,57,29,"updatedSettings"],[57,46,57,44],[58,8,58,6],[58,9,58,7],[58,10,58,8],[59,8,60,6],[59,12,60,10,"response"],[59,20,60,18],[59,21,60,19,"ok"],[59,23,60,21],[59,25,60,23],[60,10,61,8],[60,16,61,14,"data"],[60,20,61,18],[60,23,61,21],[60,29,61,27,"response"],[60,37,61,35],[60,38,61,36,"json"],[60,42,61,40],[60,43,61,41],[60,44,61,42],[61,10,62,8,"setSettings"],[61,21,62,19],[61,22,62,19,"Object"],[61,28,62,19],[61,29,62,19,"assign"],[61,35,62,19],[61,40,62,25,"DEFAULT_SETTINGS"],[61,56,62,41],[61,58,62,46,"data"],[61,62,62,50],[61,63,62,52],[61,64,62,53],[62,10,63,8],[62,17,63,15],[62,21,63,19],[63,8,64,6],[64,8,65,6],[64,15,65,13],[64,20,65,18],[65,6,66,4],[65,7,66,5],[65,8,66,6],[65,15,66,13,"err"],[65,18,66,16],[65,20,66,18],[66,8,67,6,"setError"],[66,16,67,14],[66,17,67,15],[66,65,67,63],[66,66,67,64],[67,8,68,6,"console"],[67,15,68,13],[67,16,68,14,"error"],[67,21,68,19],[67,22,68,20],[67,46,68,44],[67,48,68,46,"err"],[67,51,68,49],[67,52,68,50],[68,8,69,6],[68,15,69,13],[68,20,69,18],[69,6,70,4],[69,7,70,5],[69,16,70,14],[70,8,71,6,"setLoading"],[70,18,71,16],[70,19,71,17],[70,24,71,22],[70,25,71,23],[71,6,72,4],[72,4,73,2],[72,5,73,3],[72,7,73,5],[72,8,73,6,"settings"],[72,16,73,14],[72,17,73,15],[72,18,73,16],[73,4,75,2],[73,11,75,9],[74,6,76,4,"settings"],[74,14,76,12],[75,6,77,4,"loading"],[75,13,77,11],[76,6,78,4,"error"],[76,11,78,9],[77,6,79,4,"fetchSettings"],[77,19,79,17],[78,6,80,4,"updateSettings"],[79,4,81,2],[79,5,81,3],[80,2,82,0],[80,3,82,1],[81,2,82,2,"_s"],[81,4,82,2],[81,5,25,13,"useSettings"],[81,16,25,24],[82,0,25,24],[82,3]],"functionMap":{"names":["<global>","useSettings","fetchSettings","updateSettings"],"mappings":"AAA;2BCwB;oCCK;GDe;qCEE;GF0B;CDS"},"hasCjsExports":false},"type":"js/module"}]}